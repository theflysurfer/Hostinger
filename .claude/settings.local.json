{
  "permissions": {
    "allow": [
      "Bash(ssh root@69.62.108.82 \"docker exec wordpress-clemence wp --allow-root --path=/var/www/html plugin list --status=active 2>/dev/null | grep -E ''elementor|header''\")",
      "Bash(curl -X POST https://memvid.srv759970.hstgr.cloud/index/text -H \"Content-Type: application/json\" -d '{\"\"text\"\":\"\"MemVid is a Python library that encodes text into MP4 videos using QR codes. It enables ultra-fast semantic search with less than 100ms for 1 million chunks.\"\"}')",
      "Bash(ssh root@69.62.108.82 \"cat > /opt/whisperx/Dockerfile << ''EOF''\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    ffmpeg \\\n    git \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Install Python dependencies\nRUN pip install --no-cache-dir \\\n    whisperx \\\n    fastapi \\\n    uvicorn[standard] \\\n    python-multipart \\\n    redis \\\n    rq\n\n# Copy application files\nCOPY server.py /app/server.py\nCOPY worker.py /app/worker.py\n\n# Create upload directory\nRUN mkdir -p /tmp/uploads\n\nEXPOSE 8002\n\n# Default command (API server)\nCMD [\"\"uvicorn\"\", \"\"server:app\"\", \"\"--host\"\", \"\"0.0.0.0\"\", \"\"--port\"\", \"\"8002\"\"]\nEOF\necho ''Dockerfile updated''\")",
      "Bash(ssh root@69.62.108.82 \"docker exec mysql-clemence mysql -u clemence_user -pClemenceDB2025 -D clemence_db -e \"\"SELECT option_value FROM wp_options WHERE option_name=''active_plugins'';\"\" 2>/dev/null\")",
      "Bash(ssh root@69.62.108.82 \"docker exec mysql-clemence mysql -u clemence_user -D clemence_db -pClemenceDB2025 -e ''SELECT option_value FROM wp_options WHERE option_name=\"\"active_plugins\"\";'' 2>&1 | tail -5\")",
      "Bash(ssh root@69.62.108.82 \"docker ps -a --filter name=clemence --format ''table {{.Names}}\\t{{.Status}}''\")",
      "Bash(ssh root@69.62.108.82 \"cd /opt/clemence && docker-compose up -d && sleep 5 && docker ps --filter name=clemence --format ''table {{.Names}}\\t{{.Status}}''\")",
      "Bash(ssh root@69.62.108.82 \"cd /opt/memvid && docker-compose down && docker-compose build 2>&1 | tail -20 && docker-compose up -d\")",
      "Bash(ssh root@69.62.108.82 \"cat > /etc/nginx/sites-available/whisperx-dashboard << ''EOF''\n# HTTPS - RQ Dashboard pour WhisperX\nserver {\n    listen 443 ssl http2;\n    listen [::]:443 ssl http2;\n    server_name whisperx-dashboard.srv759970.hstgr.cloud;\n\n    ssl_certificate /etc/letsencrypt/live/whisper.srv759970.hstgr.cloud/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/whisper.srv759970.hstgr.cloud/privkey.pem;\n    include /etc/letsencrypt/options-ssl-nginx.conf;\n    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\n\n    access_log /var/log/nginx/whisperx-dashboard-access.log;\n    error_log /var/log/nginx/whisperx-dashboard-error.log;\n\n    location / {\n        include snippets/basic-auth.conf;\n        \n        proxy_pass http://127.0.0.1:9181;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        proxy_read_timeout 300;\n        proxy_connect_timeout 300;\n        proxy_send_timeout 300;\n    }\n}\n\n# HTTP -> HTTPS redirect\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name whisperx-dashboard.srv759970.hstgr.cloud;\n    return 301 https://$host$request_uri;\n}\nEOF\nln -sf /etc/nginx/sites-available/whisperx-dashboard /etc/nginx/sites-enabled/whisperx-dashboard\nnginx -t && systemctl reload nginx\necho ''Nginx config for RQ Dashboard created and enabled''\")",
      "Bash(ssh root@69.62.108.82 \"find /opt /root -name ''*clemence*'' -type d 2>/dev/null | head -5\")",
      "Bash(ssh root@69.62.108.82 \"ls -la /opt/clemence-site/ /opt/wordpress-clemence/ 2>/dev/null | grep -E ''docker-compose|yml''\")",
      "Bash(ssh root@69.62.108.82 \"cd /opt/videorag && docker-compose up -d && sleep 10 && docker-compose logs --tail=50\")",
      "Bash(curl -X POST https://memvid.srv759970.hstgr.cloud/index/text -H \"Content-Type: application/json\" -d '{\"\"text\"\":\"\"MemVid is a Python library that encodes text into MP4 videos using QR codes. It enables ultra-fast semantic search with less than 100ms for 1 million chunks. The system reduces storage by 50-100x compared to traditional vector databases.\"\"}')",
      "Bash(ssh root@69.62.108.82 \"cd /opt/clemence-site && docker-compose up -d 2>&1 && sleep 8 && docker ps --filter name=clemence --format ''table {{.Names}}\\t{{.Status}}''\")",
      "Bash(ssh root@69.62.108.82 \"cd /opt/videorag && docker-compose down && docker-compose up -d\")",
      "Bash(curl -X POST https://memvid.srv759970.hstgr.cloud/search -H \"Content-Type: application/json\" -d '{\"\"query\"\":\"\"How does MemVid work?\"\",\"\"top_k\"\":3}')",
      "Bash(ssh root@69.62.108.82 \"ls -la /opt/clemence-site/\")",
      "Bash(ssh root@69.62.108.82 \"ls -la /opt/wordpress-clemence/\")",
      "Bash(ssh root@69.62.108.82 \"sleep 5 && docker logs videorag --tail 30 && echo ''---'' && docker ps | grep videorag\")",
      "Bash(ssh root@69.62.108.82 \"docker exec memvid-api python -c ''\nfrom memvid import MemvidRetriever\nimport json\nretriever = MemvidRetriever(\"\"/app/data/memory/memory.mp4\"\", \"\"/app/data/memory/memory_index.json\"\")\nresults = retriever.search(\"\"MemVid\"\", top_k=1)\nprint(json.dumps(results, indent=2))\n'' 2>&1 | grep -v Warning\")",
      "Bash(ssh root@69.62.108.82 \"cd /opt/whisperx && docker-compose down\")",
      "Bash(ssh root@69.62.108.82 \"cd /opt/wordpress-clemence && docker-compose up -d && sleep 10 && docker ps --filter name=clemence --format ''table {{.Names}}\\t{{.Status}}''\")"
    ],
    "deny": [],
    "ask": []
  }
}
